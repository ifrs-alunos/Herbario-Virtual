{% load custom_filters %}
<div class="accordion accordion-flush" id="accordionFlushExample">
    
    <!-- PERFIL -->
    <div class="accordion-item">
        <h2 class="accordion-header" id="flush-headingOne">
            <button class="accordion-button collapsed" type="button"
                    data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false"
                    aria-controls="flush-collapseOne">
                Perfil
            </button>
        </h2>
        <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne"
             data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
                <ul class="list-group">
                    <li class="list-group-item">
                        <a id="{% if link == 'profile' %}selected-link{% endif %}" href="{% url 'dashboard:profile' %}">
                            Dados pessoais
                        </a>
                    </li>
                    {% if perms.accounts.add_solicitation %}
                    <li class="list-group-item">
                        <a id="{% if link == 'solicitation' %}selected-link{% endif %}" href="{% url 'dashboard:solicitation' %}">
                            Solicitar ser contribuidor
                        </a>
                    </li>
                    {% endif %}
                    <li class="list-group-item">
                        <a id="{% if link == 'change-password' %}selected-link{% endif %}" href="{% url 'dashboard:change_password' %}">
                            Alteração de senha
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- HERBÁRIO DE PLANTAS DANINHAS -->
    {% if perms.herbarium.add_plant %}
    <div class="accordion-item">
        <h2 class="accordion-header" id="flush-headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                Herbário de plantas daninhas
            </button>
        </h2>
        <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo"
             data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
                <ul class="list-group">
                    {% if perms.herbarium.contribute_with_plants %}
                    <li class="list-group-item">
                        <a id="{% if link == 'herbarium-update' %}selected-link{% endif %}" href="{% url 'dashboard:herbarium_update' %}">
                            Plantas
                        </a>
                    </li>
                    {% endif %}

                    {% if perms.herbarium.change_plant %}
                    <li class="list-group-item">
                        <a id="{% if link == 'plant-soliciation-list' %}selected-link{% endif %}" href="{% url 'dashboard:plant_solicitation_list' %}">
                            Solicitações de planta
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a id="{% if link == 'photo-solicitation-list' %}selected-link{% endif %}" href="{% url 'dashboard:photo_solicitation_list' %}">
                            Solicitações de foto
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- HERBÁRIO FITOPATOLÓGICO -->
    {% if perms.disease.add_disease %}
    <div class="accordion-item">
        <h2 class="accordion-header" id="flush-headingThree">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                Herbário fitopatológico
            </button>
        </h2>
        <div id="flush-collapseThree" class="accordion-collapse collapse" aria-labelledby="flush-headingThree"
             data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
                <ul class="list-group">
                    {% if perms.disease.contribute_with_disease %}
                    <li class="list-group-item">
                        <a id="{% if link == 'disease_update' %}selected-link{% endif %}" href="{% url 'dashboard:disease_update' %}">
                            Doenças
                        </a>
                    </li>
                    {% endif %}

                    {% if perms.disease.change_disease %}
                    <li class="list-group-item">
                        <a id="{% if link == 'culture_list' %}selected-link{% endif %}" href="{% url 'dashboard:culture_list' %}">
                            Culturas
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a id="{% if link == 'disease-solicitation-list' %}selected-link{% endif %}" href="{% url 'dashboard:disease_solicitation_list' %}">
                            Solicitações de doenças
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a id="{% if link == 'disease-photo-solicitation-list' %}selected-link{% endif %}" href="{% url 'dashboard:disease_photo_solicitation_list' %}">
                            Solicitações de foto
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- COLABORADORES -->
    {% if perms.core.change_colaborators %}
    <div class="accordion-item">
        <h2 class="accordion-header" id="flush-headingFive">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseFive" aria-expanded="false" aria-controls="flush-collapseFive">
                Colaboradores
            </button>
        </h2>
        <div id="flush-collapseFive" class="accordion-collapse collapse" aria-labelledby="flush-headingFive"
             data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
                <ul class="list-group">
                    <li class="list-group-item">
                        <a id="{% if link == 'edit-about' %}selected-link{% endif %}" href="{% url 'core:edit-about' %}">
                            Editar colaboradores
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- PUBLICAÇÕES -->
    {% if perms.core.add_publication %}
    <div class="accordion-item">
        <h2 class="accordion-header" id="flush-headingSeven">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseSeven" aria-expanded="false" aria-controls="flush-headingSeven">
                Publicações
            </button>
        </h2>
        <div id="flush-collapseSeven" class="accordion-collapse collapse" aria-labelledby="flush-headingSeven"
             data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
                <ul class="list-group">
                    <li class="list-group-item">
                        <a id="{% if link == 'publication_update' %}selected-link{% endif %}" href="{% url 'dashboard:publication_update' %}">
                            Listar
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- ALERTAS - TODOS OS ITENS DO DASHBOARD AQUI -->
    {% if perms.alerts.view_mathmodel or perms.alerts.view_station or perms.alerts.view_constant or perms.alerts.view_requirement %}
    <div class="accordion-item">
        <h2 class="accordion-header" id="flush-headingEight">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseEight" aria-expanded="false" aria-controls="flush-collapseEight">
                Alertas
            </button>
        </h2>
        <div id="flush-collapseEight" class="accordion-collapse collapse" aria-labelledby="flush-headingEight"
             data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
                <ul class="list-group">
                    <!-- Modelos Matemáticos -->
                    {% if perms.alerts.view_mathmodel %}
                    <li class="list-group-item">
                        <a id="{% if link == 'mathmodel_update' %}selected-link{% endif %}" href="{% url 'dashboard:mathmodel_update' %}">
                            Modelos Matemáticos
                        </a>
                    </li>
                    {% endif %}

                    <!-- Estações -->
                    {% if perms.alerts.view_station %}
                    <li class="list-group-item">
                        <a id="{% if link == 'station_list' %}selected-link{% endif %}" href="{% url 'dashboard:station_list' %}">
                            Estações
                        </a>
                    </li>
                    {% endif %}

                    <!-- Constantes -->
                    {% if perms.alerts.view_constant %}
                    <li class="list-group-item">
                        <a id="{% if link == 'constant_list' %}selected-link{% endif %}" href="{% url 'dashboard:constant_list' %}">
                            Constantes
                        </a>
                    </li>
                    {% endif %}

                    <!-- Requisitos -->
                    {% if perms.alerts.view_requirement %}
                    <li class="list-group-item">
                        <a id="{% if link == 'requirement_list' %}selected-link{% endif %}" href="{% url 'dashboard:requirement_list' %}">
                            Requisitos
                        </a>
                    </li>
                    {% endif %}

                    <!-- Histórico de Alertas -->
                    {% if perms.alerts.view_alerthistory %}
                    <li class="list-group-item">
                        <a id="{% if link == 'alert_history' %}selected-link{% endif %}" href="{% url 'dashboard:alert_history' %}">
                            Histórico de Alertas
                        </a>
                    </li>
                    {% endif %}

                    <!-- Alertas Manuais -->
                    {% if perms.alerts.add_manualalert %}
                    <li class="list-group-item">
                        <a id="{% if link == 'manual_alert' %}selected-link{% endif %}" href="{% url 'dashboard:manual_alert' %}">
                            Alertas Manuais
                        </a>
                    </li>
                    {% endif %}

                    <!-- Telegram -->
                    <li class="list-group-item">
                        <a id="{% if link == 'telegram_subscription' %}selected-link{% endif %}" href="{% url 'dashboard:telegram_subscription' %}">
                            Cadastro no Telegram
                        </a>
                    </li>

                    <!-- Sensores -->
                    {% if perms.alerts.change_sensor %}
                    <li class="list-group-item">
                        <a id="{% if link == 'sensor_list' %}selected-link{% endif %}" href="{% url 'dashboard:sensor_list' %}">
                            Sensores
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a id="{% if link == 'sensor_human_update' %}selected-link{% endif %}" href="{% url 'dashboard:sensor_human_update' %}">
                            Sensores Humanos
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- USUÁRIOS -->
    {% if perms.auth.view_user %}
    <div class="accordion-item">
        <h2 class="accordion-header" id="flush-headingSix">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseSix" aria-expanded="false" aria-controls="flush-collapseSix">
                Usuários
            </button>
        </h2>
        <div id="flush-collapseSix" class="accordion-collapse collapse" aria-labelledby="flush-headingSix"
             data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
                <ul class="list-group">
                    <li class="list-group-item">
                        <a id="{% if link == 'solicitation-list' %}selected-link{% endif %}" href="{% url 'dashboard:solicitation_list' %}">
                            Solicitações
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a id="{% if link == 'user-list' %}selected-link{% endif %}" href="{% url 'dashboard:user_list' %}">
                            Cadastrados
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- MÓDULOS EM DESENVOLVIMENTO -->
    {% if perms.core.view_mathmodel %}
    <div class="accordion-item">
        <h2 class="accordion-header" id="flush-headingTwenty">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    data-bs-target="#flush-collapseTwenty" aria-expanded="false" aria-controls="flush-collapseTwenty">
                Módulos em desenvolvimento
            </button>
        </h2>
        <div id="flush-collapseTwenty" class="accordion-collapse collapse" aria-labelledby="flush-headingTwenty"
             data-bs-parent="#accordionFlushExample">
            <div class="accordion-body">
                <ul class="list-group">
                    <li class="list-group-item">
                        <a id="{% if link == 'seila' %}selected-link{% endif %}" href="{% url 'alerts:collect_data_cepadi' %}">
                            Url cepadi
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a id="{% if link == 'seila' %}selected-link{% endif %}" href="{% url 'alerts:view_graphs' %}">
                            Gráfico de modelos matemáticos
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a id="{% if link == 'seila' %}selected-link{% endif %}" href="{% url 'alerts:map_url' %}">
                            Mapa
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    {% endif %}
</div>